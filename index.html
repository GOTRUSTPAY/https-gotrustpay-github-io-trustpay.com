<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>GoPay Africa</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#061e1c;color:#e6fffa}
header{display:flex;justify-content:space-between;align-items:center;padding:15px;background:#012b28}
.logo{font-weight:700;font-size:20px}
.menu button{margin-left:8px}
button,input,select{padding:12px;border-radius:10px;border:none;width:100%;margin:6px 0}
button{background:#14b8a6;font-weight:700;cursor:pointer}
.panel{background:#043837;padding:15px;border-radius:16px;margin:15px}
.hidden{display:none}
.card{background:linear-gradient(135deg,#064e4b,#0f766e);border-radius:20px;padding:20px}
.card h2{margin:0}
.actions{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.tx{background:#065f5b;padding:8px;border-radius:8px;margin-top:6px;font-size:14px}
table{width:100%;border-collapse:collapse}
th,td{border:1px solid #065f5b;padding:8px}
footer{text-align:center;padding:15px;font-size:13px;opacity:.8}
a{color:#5eead4}
</style>
</head>

<body>

<header>
<div class="logo">GoPay Africa</div>
<div class="menu">
<button onclick="show('login')">Connexion</button>
<button onclick="show('register')">CrÃ©er un compte</button>
<button onclick="logout()">DÃ©connexion</button>
</div>
</header>

<!-- HOME -->
<div id="home" class="panel">
<h2>Payments for a Connected Africa</h2>
<p>Paiements digitaux sÃ©curisÃ©s</p>
</div>

<!-- LOGIN -->
<div id="login" class="panel hidden">
<h3>Connexion</h3>
<input id="lEmail" placeholder="Email">
<input id="lPass" type="password" placeholder="Mot de passe">
<button onclick="login()">Se connecter</button>
</div>

<!-- REGISTER -->
<div id="register" class="panel hidden">
<h3>CrÃ©er un compte</h3>
<input id="rName" placeholder="Nom complet">
<input id="rEmail" placeholder="Email">
<input id="rPass" type="password" placeholder="Mot de passe">
<button onclick="register()">CrÃ©er</button>
</div>

<!-- DASH -->
<div id="dash" class="panel hidden">
<div class="card">
<h2>VIRTUAL CARD</h2>
<p><b>GOPAY</b></p>
<p id="cardName"></p>
<p>ID: <b id="cardId"></b></p>
<p>Solde: <b id="cardBal"></b> USD</p>
</div>

<div class="actions">
<button onclick="show('pay')">ðŸ’³ Paiement</button>
<button onclick="show('cashin')">âž• Cashâ€‘in</button>
<button onclick="show('cashout')">âž– Cashâ€‘out</button>
<button onclick="show('history')">ðŸ“œ Historique</button>
</div>

<h3>ActivitÃ©s rÃ©centes</h3>
<div id="recent"></div>
</div>

<!-- PAY -->
<div id="pay" class="panel hidden">
<h3>Paiement</h3>
<input id="payId" placeholder="ID destinataire" oninput="checkId()">
<input id="payName" placeholder="Nom destinataire" disabled>
<input id="payAmount" type="number" placeholder="Montant">
<button onclick="pay()">Confirmer</button>
</div>

<!-- CASHIN -->
<div id="cashin" class="panel hidden">
<h3>Cashâ€‘in</h3>
<input id="cinAmount" type="number" placeholder="Montant">
<button onclick="cashin()">Valider</button>
</div>

<!-- CASHOUT -->
<div id="cashout" class="panel hidden">
<h3>Cashâ€‘out</h3>
<input id="coutAmount" type="number" placeholder="Montant">
<button onclick="cashout()">Confirmer</button>
</div>

<!-- HISTORY -->
<div id="history" class="panel hidden">
<h3>Historique</h3>
<div id="txs"></div>
</div>

<!-- ADMIN -->
<div id="admin" class="panel hidden">
<h3>ADMIN â€“ Vue globale</h3>
<table>
<tr><th>Nom</th><th>RÃ´le</th><th>Solde</th><th>Actif</th></tr>
<tbody id="adminUsers"></tbody>
</table>
<h3>ActivitÃ©s globales</h3>
<div id="adminTx"></div>
</div>

<!-- LEGAL -->
<div id="legal" class="panel hidden">
<h3>Mentions lÃ©gales</h3>
<p>GoPay Africa â€“ Plateforme digitale</p>
</div>

<div id="privacy" class="panel hidden">
<h3>Politique de confidentialitÃ©</h3>
<p>Les donnÃ©es sont protÃ©gÃ©es.</p>
</div>

<footer>
Â© 2026 GoPay Africa â€”
<a href="#" onclick="show('legal')">Mentions lÃ©gales</a> |
<a href="#" onclick="show('privacy')">Politique de confidentialitÃ©</a>
</footer>

<script>
let users = JSON.parse(localStorage.getItem("users")||"[]")
let txs = JSON.parse(localStorage.getItem("txs")||"[]")
let current = null

function save(){localStorage.setItem("users",JSON.stringify(users));localStorage.setItem("txs",JSON.stringify(txs))}

function show(id){
document.querySelectorAll(".panel").forEach(p=>p.classList.add("hidden"))
document.getElementById(id).classList.remove("hidden")
}

function genId(){return "GP"+Math.floor(Math.random()*999999)}

function register(){
users.push({name:rName.value,email:rEmail.value,pass:rPass.value,id:genId(),bal:50,role:"user",active:false})
save(); alert("Compte crÃ©Ã©"); show("login")
}

function login(){
current = users.find(u=>u.email==lEmail.value && u.pass==lPass.value)
if(!current) return alert("Erreur")
current.active=true
if(current.email=="motivixx.media@gmail.com") current.role="admin"
save(); load()
}

function logout(){if(current){current.active=false;save()} current=null; show("home")}

function load(){
show("dash")
cardName.textContent=current.name
cardId.textContent=current.id
cardBal.textContent=current.bal.toFixed(2)
renderTx()
if(current.role=="admin") loadAdmin()
}

function addTx(type,amount,to=""){
txs.unshift({name:current.name,type,amount,to})
save(); renderTx()
}

function renderTx(){
recent.innerHTML=""
txs.filter(t=>t.name==current.name).slice(0,5).forEach(t=>{
recent.innerHTML+=`<div class="tx">${t.type} ${t.amount} USD</div>`
})
txsDiv=""
txs.filter(t=>t.name==current.name).forEach(t=>{
txsDiv+=`<div class="tx">${t.type} ${t.amount}</div>`
})
document.getElementById("txs").innerHTML=txsDiv
}

function checkId(){
let u=users.find(x=>x.id==payId.value)
payName.value=u?u.name:""
}

function pay(){
let u=users.find(x=>x.id==payId.value)
let amt=+payAmount.value
if(!u||amt<=0||current.bal<amt) return alert("Erreur")
current.bal-=amt; u.bal+=amt
addTx("Paiement",-amt,u.name)
save(); load()
}

function cashin(){
let amt=+cinAmount.value
current.bal+=amt; addTx("Cashâ€‘in",amt); save(); load()
}

function cashout(){
let amt=+coutAmount.value
if(current.bal<amt) return alert("Solde insuffisant")
current.bal-=amt; addTx("Cashâ€‘out",-amt); save(); load()
}

function loadAdmin(){
show("admin")
adminUsers.innerHTML=""
users.forEach(u=>{
adminUsers.innerHTML+=`<tr><td>${u.name}</td><td>${u.role}</td><td>${u.bal}</td><td>${u.active?"Oui":"Non"}</td></tr>`
})
adminTx.innerHTML=""
txs.slice(0,6).forEach(t=>{
adminTx.innerHTML+=`<div class="tx">${t.name} â†’ ${t.type} ${t.amount}</div>`
})
}
</script>

</body>
</html>

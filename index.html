<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>GoPay Premium</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:Roboto;
background:#06121c;
color:white;
}

header{
background:#081c2b;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
}

.menu{
cursor:pointer;
font-size:25px;
}

.dropdown{
display:none;
position:absolute;
right:10px;
top:60px;
background:#081c2b;
border-radius:10px;
padding:10px;
}

.dropdown a{
display:block;
padding:8px;
color:white;
text-decoration:none;
}

.container{
padding:20px;
}

.card{
background:#0c2537;
padding:20px;
margin:10px 0;
border-radius:15px;
}

button{
padding:12px;
border:none;
border-radius:10px;
background:#00aaff;
color:white;
width:100%;
margin-top:10px;
cursor:pointer;
}

input{
width:100%;
padding:10px;
margin-top:10px;
border-radius:10px;
border:none;
}

footer{
margin-top:50px;
padding:20px;
background:#081c2b;
text-align:center;
}
</style>
</head>

<body>

<header>
<h2>GOPAY</h2>
<div class="menu" onclick="toggleMenu()">☰</div>
</header>

<div class="dropdown" id="menuBox">
<a onclick="showPage('home')">Accueil</a>
<a onclick="showPage('login')">Connexion</a>
</div>

<!-- HOME -->
<div id="home" class="container">
<h3>Qui sommes-nous</h3>
<p>GoPay Premium est une solution financière digitale africaine.</p>

<h3>Confidentialité</h3>
<p>Protection maximale des données clients.</p>

<h3>Contact</h3>
<p>Email : support@gopay.africa</p>

<h3>FAQ</h3>
<p>Questions fréquentes utilisateurs.</p>

<h3>Mentions légales</h3>
<p>Entreprise FinTech enregistrée.</p>
</div>

<!-- LOGIN -->
<div id="login" class="container" style="display:none;">
<h3>Connexion</h3>

<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Mot de passe">

<button onclick="login()">Se connecter</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="container" style="display:none;">

<h2>GOPAY</h2>
<p>ID : <span id="userId"></span></p>
<p>Solde : <span id="balance"></span> USD</p>

<div class="card">
<button onclick="showTransaction('cashin')">Cash-in</button>
<button onclick="showTransaction('cashout')">Cash-out</button>
<button onclick="showTransaction('pay')">Paiement</button>
<button onclick="logout()">Déconnexion</button>

<div id="adminBtn" style="display:none;">
<button onclick="showPage('admin')">Admin Panel</button>
</div>
</div>

</div>

<!-- CASHIN -->
<div id="cashin" class="container" style="display:none;">
<h3>Cash-in</h3>
<input id="cashinAmount" placeholder="Montant">
<button onclick="cashIn()">Confirmer</button>
</div>

<!-- CASHOUT -->
<div id="cashout" class="container" style="display:none;">
<h3>Cash-out</h3>
<input id="cashoutId" placeholder="ID Destinataire">
<input id="cashoutName" placeholder="Nom Destinataire">
<input id="cashoutAmount" placeholder="Montant">
<button onclick="cashOut()">Confirmer</button>
</div>

<!-- PAYMENT -->
<div id="pay" class="container" style="display:none;">
<h3>Paiement</h3>
<input id="payId" placeholder="ID Destinataire">
<input id="payName" placeholder="Nom Destinataire">
<input id="payAmount" placeholder="Montant">
<button onclick="pay()">Confirmer</button>
</div>

<!-- ADMIN -->
<div id="admin" class="container" style="display:none;">
<h3>Panel Admin</h3>
<p>Liste des agents :</p>
<ul id="agentList"></ul>
</div>

<footer>
© 2026 GoPay Premium
</footer>

<script>

let currentUser = null;

function toggleMenu(){
let m = document.getElementById("menuBox");
m.style.display = m.style.display === "block" ? "none" : "block";
}

function showPage(page){

document.getElementById("menuBox").style.display="none";

["home","login","dashboard","cashin","cashout","pay","admin"].forEach(p=>{
document.getElementById(p).style.display="none";
});

document.getElementById(page).style.display="block";
}

function generateID(){
return "GP" + Math.floor(Math.random()*1000000);
}

function login(){

let email = document.getElementById("email").value;

if(!email) return;

let user = JSON.parse(localStorage.getItem(email));

if(!user){

user = {
email:email,
id:generateID(),
balance:0,
role: email==="admin@gopay.africa" ? "admin" : "agent"
};

localStorage.setItem(email, JSON.stringify(user));
}

currentUser=user;

sessionStorage.setItem("session",email);

loadDashboard();
}

function loadDashboard(){

document.getElementById("userId").innerText=currentUser.id;
document.getElementById("balance").innerText=currentUser.balance;

if(currentUser.role==="admin"){
document.getElementById("adminBtn").style.display="block";
loadAgents();
}

showPage("dashboard");
}

function logout(){
sessionStorage.clear();
currentUser=null;
showPage("home");
}

function showTransaction(type){
showPage(type);
}

function cashIn(){

let amount=parseFloat(document.getElementById("cashinAmount").value);
if(!amount) return;

currentUser.balance+=amount;

saveUser();
loadDashboard();
}

function cashOut(){

let amount=parseFloat(document.getElementById("cashoutAmount").value);
if(!amount) return;

if(currentUser.balance < amount){
alert("Solde insuffisant");
return;
}

currentUser.balance-=amount;
saveUser();
loadDashboard();
}

function pay(){
cashOut();
}

function saveUser(){
localStorage.setItem(currentUser.email, JSON.stringify(currentUser));
}

function loadAgents(){

let list=document.getElementById("agentList");
list.innerHTML="";

for(let i=0;i<localStorage.length;i++){

let key=localStorage.key(i);
let user=JSON.parse(localStorage.getItem(key));

if(user.role==="agent"){
let li=document.createElement("li");
li.innerText=user.email+" - "+user.id;
list.appendChild(li);
}

}
}

window.onload=function(){

let session=sessionStorage.getItem("session");

if(session){
currentUser=JSON.parse(localStorage.getItem(session));
loadDashboard();
}else{
showPage("home");
}

}
</script>

</body>
</html>

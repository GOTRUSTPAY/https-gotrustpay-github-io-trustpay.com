<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>GOPAY AFRICA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css">

<style>
body{margin:0;font-family:Roboto;background:#f5f5f5;color:#011a27;scroll-behavior:smooth;}
header{position:fixed;top:0;left:0;width:100%;background:#fff;display:flex;justify-content:space-between;align-items:center;padding:12px 20px;box-shadow:0 2px 10px rgba(0,0,0,0.1);z-index:100;}
.logo{font-size:24px;font-weight:700;color:#0072ff;}
.menu{display:flex;gap:12px;}
.menu a{text-decoration:none;color:#0072ff;font-weight:600;padding:6px 12px;border-radius:8px;transition:0.3s;}
.menu a:hover{background:#0072ff;color:#fff;}
section{padding:100px 20px 60px;margin-top:60px;}
.hero{background:url('https://via.placeholder.com/1200x500?text=Finance+Image') center/cover no-repeat;color:#fff;text-align:center;padding:180px 20px;}
.hero h1{font-size:48px;margin-bottom:20px;text-shadow:2px 2px 8px rgba(0,0,0,0.5);}
.hero p{font-size:20px;margin-bottom:30px;text-shadow:1px 1px 6px rgba(0,0,0,0.5);}
.btn-cta{background:#0072ff;color:#fff;padding:14px 28px;border:none;border-radius:12px;font-size:18px;font-weight:700;cursor:pointer;transition:0.3s;}
.btn-cta:hover{background:#005bb5;}
.card-section{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-top:40px;}
.card{background:#fff;padding:20px;border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,0.1);text-align:center;}
.card i{font-size:36px;color:#0072ff;margin-bottom:10px;}
.card h3{margin:10px 0;}
.card p{font-size:14px;opacity:0.8;}
footer{background:#011a27;color:#fff;padding:40px 20px;text-align:center;}
footer a{color:#0072ff;text-decoration:none;}
footer a:hover{text-decoration:underline;}
.panel{background:#fff;padding:20px;border-radius:16px;margin:20px 0;box-shadow:0 4px 20px rgba(0,0,0,0.05);}
.hidden{display:none;}
.actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:20px;}
.action{background:#0072ff;color:#fff;padding:12px;border-radius:12px;text-align:center;font-weight:700;cursor:pointer;transition:0.3s;}
.action:hover{background:#005bb5;transform:translateY(-2px);}
.card-dashboard{background:#e0f2ff;padding:20px;border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,0.1);text-align:center;margin-bottom:20px;}
</style>
</head>

<body>

<header>
<div class="logo">GOPAY AFRICA</div>
<nav class="menu">
<a href="#home">Accueil</a>
<a href="#why">Pourquoi nous rejoindre</a>
<a href="#success">Nos succès</a>
<a href="#values">Nos valeurs</a>
<a href="#mission">Mission & Stats</a>
<a href="#partners">Partenaires</a>
<a onclick="show('login')">Se connecter</a>
</nav>
</header>

<section id="home" class="hero">
<h1>Votre Néobanque Africaine</h1>
<p>Transactions rapides, sécurisées et multi-devises pour tous</p>
<button class="btn-cta" onclick="show('contact')">Nous contacter</button>
</section>

<section id="why">
<h2 style="text-align:center;">Pourquoi nous rejoindre <i class='bx bx-badge-check'></i></h2>
<div class="card-section">
<div class="card"><i class='bx bx-rocket'></i><h3>Innovation</h3><p>Des services financiers innovants et digitaux.</p></div>
<div class="card"><i class='bx bx-shield'></i><h3>Sécurité</h3><p>Protection maximale de vos transactions.</p></div>
<div class="card"><i class='bx bx-group'></i><h3>Support</h3><p>Support client dédié 24/7.</p></div>
</div>
</section>

<section id="success">
<h2 style="text-align:center;">Nos succès <i class='bx bx-bar-chart-alt-2'></i></h2>
<div class="card-section">
<div class="card"><h3>+10 000 Clients</h3><p>En moins de 2 ans, GoPay Africa s'impose sur le marché.</p></div>
<div class="card"><h3>+5 000 Transactions/jour</h3><p>Transactions instantanées sécurisées.</p></div>
<div class="card"><h3>Multi-devises</h3><p>USD, CDF et autres devises africaines.</p></div>
</div>
</section>

<section id="values">
<h2 style="text-align:center;">Nos valeurs <i class='bx bx-heart'></i></h2>
<div class="card-section">
<div class="card"><i class='bx bx-user-check'></i><h3>Fiabilité</h3><p>Nos services sont fiables et constants.</p></div>
<div class="card"><i class='bx bx-brain'></i><h3>Innovation</h3><p>Nous innovons chaque jour pour mieux vous servir.</p></div>
<div class="card"><i class='bx bx-globe'></i><h3>Pan-Africain</h3><p>Présence sur plusieurs pays africains.</p></div>
</div>
</section>

<section id="mission">
<h2 style="text-align:center;">Mission & Statistiques <i class='bx bx-line-chart'></i></h2>
<div class="card-section">
<div class="card"><h3>Mission</h3><p>Offrir des services financiers digitaux accessibles à tous.</p></div>
<div class="card"><h3>Statistiques</h3><p>+10k clients actifs et +5000 transactions/jour.</p></div>
</div>
</section>

<section id="partners">
<h2 style="text-align:center;">Nos partenaires <i class='bx bx-handshake'></i></h2>
<div class="card-section">
<div class="card"><img src="https://via.placeholder.com/200x120?text=Partenaire1" style="width:100%;border-radius:12px;"></div>
<div class="card"><img src="https://via.placeholder.com/200x120?text=Partenaire2" style="width:100%;border-radius:12px;"></div>
<div class="card"><img src="https://via.placeholder.com/200x120?text=Partenaire3" style="width:100%;border-radius:12px;"></div>
</div>
</section>

<section id="contact" class="panel">
<h2>Contactez-nous</h2>
<p>Email: <a href="mailto:gopapay.info@gopay.com">gopapay.info@gopay.com</a></p>
<p>Téléphone: +243 123 456 789</p>
</section>

<!-- LOGIN PANEL -->
<div id="login" class="panel hidden">
<h3>Connexion</h3>
<input id="lEmail" placeholder="Email"><br><br>
<input id="lPass" type="password" placeholder="Mot de passe"><br><br>
<div class="actions">
<div class="action" onclick="login()">Connexion</div>
<div class="action" onclick="show('register')">Créer compte</div>
<div class="action" onclick="show('home')">⬅ Retour</div>
</div>
</div>

<!-- REGISTER PANEL -->
<div id="register" class="panel hidden">
<h3>Créer Compte</h3>
<input id="rName" placeholder="Nom"><br><br>
<input id="rEmail" placeholder="Email"><br><br>
<input id="rPass" type="password" placeholder="Mot de passe"><br><br>
<select id="rRole">
<option value="client">Client</option>
<option value="agent">Agent</option>
<option value="admin">Admin</option>
</select><br><br>
<div class="actions">
<div class="action" onclick="register()">Créer</div>
<div class="action" onclick="show('login')">⬅ Retour</div>
</div>
</div>

<!-- DASHBOARD PANEL -->
<div id="dash" class="panel hidden">
<div class="card-dashboard">
<h3 id="cardName"></h3>
<small>ID: <span id="cardId"></span></small>
<h2>$ <span id="balance"></span></h2>
<canvas id="qr"></canvas>
</div>
<div class="actions">
<div class="action" onclick="cashin()">Cash-in</div>
<div class="action" onclick="cashout()">Cash-out</div>
<div class="action" onclick="pay()">Paiement</div>
<div class="action" onclick="openKYC()">KYC</div>
<div class="action" onclick="logout()">Déconnexion</div>
</div>
<h4>Activités Récentes</h4>
<div id="history"></div>
</div>

<!-- ADMIN PANEL -->
<div id="admin" class="panel hidden">
<h3>Admin Dashboard</h3>
<p>Total Users : <span id="totalUsers"></span></p>
<table id="usersTable"></table>
<div class="action" onclick="show('dash')">Retour</div>
</div>

<script>
firebase.initializeApp({
apiKey:"AIzaSyA-p_WgDeRhaGsP0zJYmd9aIw7GwuC6k6g",
authDomain:"gotrustpay-e6524.firebaseapp.com",
projectId:"gotrustpay-e6524",
});

const auth=firebase.auth();
const db=firebase.firestore();
let currentUser=null;
let defaultAvatar="https://via.placeholder.com/80";

/* NAVIGATION */
function show(id){document.querySelectorAll(".panel").forEach(p=>p.classList.add("hidden"));document.getElementById(id).classList.remove("hidden");}

/* REGISTER */
async function register(){
try{
const cred=await auth.createUserWithEmailAndPassword(rEmail.value,rPass.value);
const gid="GP"+Math.random().toString(36).substr(2,6).toUpperCase();
await db.collection("users").doc(cred.user.uid).set({
name:rName.value,email:rEmail.value,role:rRole.value,gid,balance:50,sessionToken:null,totalCommission:0
});
rName.value="";rEmail.value="";rPass.value="";
await loginAuto();
}catch(e){alert(e.message);}
}

/* LOGIN */
async function login(){
try{
const cred=await auth.signInWithEmailAndPassword(lEmail.value,lPass.value);
lEmail.value="";lPass.value="";
loadUserData(cred.user.uid);
}catch(e){alert("Connexion refusée");}
}

/* AUTO LOGIN */
async function loginAuto(){loadUserData(auth.currentUser.uid);}

/* DASHBOARD LOADER */
async function loadUserData(uid){
const snap=await db.collection("users").doc(uid).get();
currentUser=snap.data();
if(currentUser.sessionToken && currentUser.sessionToken!==uid){alert("Session active sur un autre appareil");logout();}
else{await db.collection("users").doc(uid).update({sessionToken:uid});loadDashboard();}}

/* LOAD DASHBOARD */
function loadDashboard(){
document.getElementById("cardName").innerText=currentUser.name;
document.getElementById("cardId").innerText=currentUser.gid;
document.getElementById("balance").innerText=currentUser.balance.toFixed(2);
QRCode.toCanvas(qr,currentUser.gid);
loadFakeHistory();
if(currentUser.role==="admin"){setTimeout(()=>openAdmin(),500);}
show("dash");
}

/* CASH-IN */
async function cashin(){
let amt=parseFloat(prompt("Montant"));
if(!amt) return;
await db.collection("users").doc(auth.currentUser.uid).update({balance:firebase.firestore.FieldValue.increment(amt)});
currentUser.balance+=amt;loadDashboard();
}

/* CASH-OUT */
async function cashout(){
let amt=parseFloat(prompt("Montant"));
if(!amt) return;
let pin=prompt("PIN 4 chiffres");let otp=prompt("OTP 6 chiffres");
if(!(pin.length===4 && otp.length===6)){alert("Double signature invalide");return;}
await db.collection("users").doc(auth.currentUser.uid).update({balance:firebase.firestore.FieldValue.increment(-amt)});
currentUser.balance-=amt;
saveTransaction(currentUser.gid,"cashout",amt);
loadDashboard();
}

/* PAYMENT */
async function pay(){
let amt=parseFloat(prompt("Montant"));if(!amt)return;
let dest=prompt("ID destinataire");if(!dest)return;
let snap=await db.collection("users").where("gid","==",dest).get();
if(snap.empty){alert("Utilisateur introuvable");return;}
let doc=snap.docs[0];
await db.collection("users").doc(auth.currentUser.uid).update({balance:firebase.firestore.FieldValue.increment(-amt)});
await db.collection("users").doc(doc.id).update({balance:firebase.firestore.FieldValue.increment(amt)});
saveTransaction(currentUser.gid,"payment",amt);
currentUser.balance-=amt;loadDashboard();
}

/* TRANSACTION LOG */
function saveTransaction(userId,type,amount){db.collection("transactions").add({userId,type,amount,date:new Date()});}

/* FAKE HISTORY */
function loadFakeHistory(){
const names=["Ali","John","Fatou","David","Eric","Nadine","Prince"];
history.innerHTML="";
for(let i=0;i<6;i++){let n=names[Math.floor(Math.random()*names.length)];let amt=(Math.random()*200).toFixed(2);history.innerHTML+=`<p>${n} a transféré $${amt}</p>`;}
}

/* KYC */
function openKYC(){alert("KYC soumis - vérification en cours");}
function submitKYC(userId,docURL){db.collection("kyc").doc(userId).set({document:docURL,status:"pending"});}

/* ADMIN DASHBOARD */
async function openAdmin(){
show("admin");
let users=await db.collection("users").get();
totalUsers.innerText=users.size;
usersTable.innerHTML="<tr><th>Nom</th><th>Email</th><th>Role</th></tr>";
users.forEach(doc=>{let u=doc.data();usersTable.innerHTML+=`<tr><td>${u.name}</td><td>${u.email}</td><td>${u.role}</td></tr>`;});}

/* LOGOUT */
function logout(){auth.signOut();show("home");}

/* NOTIFICATION */
function notifyUser(msg){alert("Notification GoPay : "+msg);}

/* UTILS */
function generateAvatar(name){return `https://ui-avatars.com/api/?name=${name}&background=0D8ABC&color=fff`;}
function generateCard(){return {cardNumber:"5314 "+Math.floor(1000+Math.random()*9000)+" "+Math.floor(1000+Math.random()*9000)+" "+Math.floor(1000+Math.random()*9000),biometricCode:Math.floor(100000 + Math.random()*900000)};}
const exchangeRates={USD:1,CDF:2800};
function convertCurrency(amount,from,to){return(amount/exchangeRates[from])*exchangeRates[to];}
auth.onAuthStateChanged(user=>{if(user){db.collection("users").doc(user.uid).get().then(s=>{loadUserData(user.uid);});}});
function agentDeposit(agentID,clientID,amount){notifyUser("Agent "+agentID+" a crédité "+amount);}
</script>

<footer>
<h4>Qui sommes-nous</h4>
<p>GoPay Africa est une néobanque panafricaine offrant des solutions financières digitales sécurisées.</p>
<h4>FAQ</h4><p>Transactions instantanées • KYC sécurisé • Multi-devises</p>
<h4>Confidentialité</h4><p>Vos données sont protégées via chiffrement bancaire.</p>
<h4>Contact</h4><p>@gopapay.info</p>
<h4>Mentions légales</h4><p>GoPay Africa Digital Finance Ltd © 2026</p>
</footer>

</body>
  </html>

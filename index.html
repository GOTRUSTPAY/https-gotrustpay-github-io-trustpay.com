<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>GOPAY AFRICA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  margin:0;
  font-family:Roboto;
  background:#f5f9fc;
  color:#0a2e2b;
  scroll-behavior:smooth;
}

/* HEADER */
header{
  background:linear-gradient(90deg,#0ab4a1,#0072ff);
  padding:16px 24px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  color:white;
  position:sticky;
  top:0;
  z-index:10;
  box-shadow:0 4px 10px rgba(0,0,0,0.15);
}

.logo{
  font-size:24px;
  font-weight:700;
}

.menu a{
  color:white;
  margin-left:20px;
  font-weight:500;
  cursor:pointer;
  text-decoration:none;
}

.menu a:hover{
  text-decoration:underline;
}

/* HERO */
.hero{
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:#e0f7f5;
  padding:60px 24px;
  border-radius:20px;
  margin:20px;
  gap:20px;
}

.hero img{
  width:45%;
  border-radius:20px;
  box-shadow:0 8px 25px rgba(0,0,0,0.2);
}

.hero-text{
  width:50%;
}

.hero-text h1{
  font-size:36px;
  color:#0072ff;
  margin-bottom:16px;
}

.hero-text p{
  font-size:18px;
  margin-bottom:24px;
}

.btn-cta{
  background:#0ab4a1;
  color:white;
  padding:14px 24px;
  font-weight:700;
  border-radius:12px;
  cursor:pointer;
  margin-right:12px;
  text-decoration:none;
}

.btn-cta:hover{
  background:#007a72;
  transform:translateY(-2px);
  transition:0.3s;
}

/* PANELS */
.panel{
  background:white;
  margin:20px;
  padding:20px;
  border-radius:18px;
  box-shadow:0 6px 20px rgba(0,0,0,0.1);
}

.hidden{display:none;}

/* ACTION BUTTONS */
.actions{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:12px;
  margin-top:20px;
}

.action{
  background:#0072ff;
  padding:12px;
  border-radius:12px;
  text-align:center;
  font-weight:700;
  cursor:pointer;
  color:white;
}

.action:hover{
  background:#0059b3;
}

/* CARD DASHBOARD */
.card{
  background:linear-gradient(135deg,#0ab4a1,#0072ff);
  border-radius:20px;
  padding:20px;
  box-shadow:0 8px 25px rgba(0,0,0,0.3);
  text-align:center;
}

.card h3, .card small{
  margin:0;
  color:white;
}

#history p{
  font-size:14px;
  border-bottom:1px solid rgba(0,0,0,0.1);
  padding:6px 0;
}

/* FOOTER */
footer{
  background:#0a2e2b;
  color:white;
  padding:20px;
  text-align:center;
  margin-top:20px;
  border-radius:12px;
}

footer h4{
  margin-bottom:6px;
  color:#0ab4a1;
}

/* IMAGES FULL */
.full-img{
  width:100%;
  border-radius:20px;
  margin:20px 0;
}

/* SMALL CARDS FOR VALUES */
.card-small{
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  background:#e0f7f5;
  padding:12px;
  border-radius:12px;
  width:150px;
  margin:12px;
}
.card-small img{
  width:48px;
  height:48px;
  margin-bottom:8px;
}
.card-small p{
  font-size:14px;
  margin:0;
}
</style>
</head>

<body>

<header>
<div class="logo">GOPAY AFRICA</div>
<div class="menu">
<a onclick="show('home')">Accueil</a>
<a onclick="show('marketing')">Pourquoi nous rejoindre</a>
<a onclick="show('success')">Nos succès</a>
<a onclick="show('values')">Valeurs & Mission</a>
<a onclick="show('partners')">Partenaires</a>
<a onclick="show('login')">Connexion</a>
</div>
</header>

<!-- HERO -->
<div class="hero">
<div class="hero-text">
<h1>GoPay Africa</h1>
<p>Banque digitale panafricaine sécurisée. Transactions instantanées, cash-in/out, KYC fiable.</p>
<a class="btn-cta" onclick="show('contact')">Nous contacter</a>
<a class="btn-cta" onclick="show('login')">Se connecter</a>
</div>
<img src="https://images.unsplash.com/photo-1581091215369-c9d3c3c0198c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" alt="Cash out mobile">
</div>

<!-- HOME -->
<div id="home" class="panel">
<h2>Bienvenue sur GoPay Africa</h2>
<p>Paiements • Wallet • Agents • KYC sécurisé</p>
<img src="https://images.unsplash.com/photo-1603725638951-95bb3ff84f14?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" class="full-img" alt="Finance Africa">
</div>

<!-- MARKETING -->
<div id="marketing" class="panel hidden">
<h2>Pourquoi nous rejoindre</h2>
<img src="https://images.unsplash.com/photo-1605902711622-cfb43c4431f6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" class="full-img" alt="Innovation">
<p>Rejoignez GoPay Africa et bénéficiez de solutions financières sécurisées, rapides et accessibles partout en Afrique. Innovation, transparence et support client 24/7.</p>
</div>

<!-- SUCCÈS -->
<div id="success" class="panel hidden">
<h2>Nos succès & statistiques</h2>
<img src="https://images.unsplash.com/photo-1573164574398-3d8cb409d0a3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" class="full-img" alt="Succès Clients">
<canvas id="successChart" style="width:100%;max-width:600px;margin:20px 0;"></canvas>
</div>

<!-- VALEURS -->
<div id="values" class="panel hidden">
<h2>Nos valeurs & mission</h2>
<div style="display:flex;flex-wrap:wrap;">
<div class="card-small">
<img src="https://img.icons8.com/color/48/000000/innovation.png"/>
<p>Innovation</p>
</div>
<div class="card-small">
<img src="https://img.icons8.com/color/48/000000/lock-2.png"/>
<p>Sécurité</p>
</div>
<div class="card-small">
<img src="https://img.icons8.com/color/48/000000/visible.png"/>
<p>Transparence</p>
</div>
</div>
</div>

<!-- PARTENAIRES -->
<div id="partners" class="panel hidden">
<h2>Partenaires & villes desservies</h2>
<img src="https://images.unsplash.com/photo-1603725638951-95bb3ff84f14?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080" class="full-img" alt="Partenaires">
<p>Partenaires stratégiques dans toute l’Afrique, y compris Goma, Kinshasa et Nairobi.</p>
</div>

<!-- LOGIN -->
<div id="login" class="panel hidden">
<h3>Connexion</h3>
<input id="lEmail" placeholder="Email"><br><br>
<input id="lPass" type="password" placeholder="Mot de passe"><br><br>
<div class="actions">
<div class="action" onclick="login()">Connexion</div>
<div class="action" onclick="show('register')">Créer compte</div>
</div>
</div>

<!-- REGISTER -->
<div id="register" class="panel hidden">
<h3>Créer Compte</h3>
<input id="rName" placeholder="Nom"><br><br>
<input id="rEmail" placeholder="Email"><br><br>
<input id="rPass" type="password" placeholder="Mot de passe"><br><br>
<select id="rRole">
<option value="client">Client</option>
<option value="agent">Agent</option>
</select><br><br>
<div class="actions">
<div class="action" onclick="register()">Créer</div>
</div>
</div>

<!-- DASHBOARD CLIENT/AGENT -->
<div id="dash" class="panel hidden">
<div class="card">
<h3 id="cardName"></h3>
<small>ID : <span id="cardId"></span></small>
<h2>$ <span id="balance"></span></h2>
<canvas id="qr"></canvas>
</div>
<div class="actions">
<div class="action" onclick="cashin()">Cash-in</div>
<div class="action" onclick="cashout()">Cash-out</div>
<div class="action" onclick="pay()">Paiement</div>
<div class="action" onclick="logout()">Déconnexion</div>
</div>
<h4>Activités récentes</h4>
<div id="history"></div>
</div>

<!-- ADMIN -->
<div id="admin" class="panel hidden">
<h3>Admin Dashboard</h3>
<p>Total Clients : <span id="totalClients">0</span></p>
<p>Total Agents : <span id="totalAgents">0</span></p>
<p>Total Transactions : <span id="totalTransactions">0</span></p>
<table id="usersTable"></table>
<div class="action" onclick="show('dash')">⬅ Retour</div>
</div>

<footer>
<h4>Qui sommes-nous</h4>
<p>GoPay Africa est une néobanque panafricaine offrant des solutions financières digitales sécurisées.</p>
<h4>FAQ</h4><p>Transactions instantanées • KYC sécurisé • Multi-devises</p>
<h4>Confidentialité</h4><p>Vos données sont protégées via chiffrement bancaire.</p>
<h4>Contact</h4><p>@gopapay.info</p>
<h4>Mentions légales</h4><p>GoPay Africa Digital Finance Ltd © 2026</p>
</footer>

<script>
// Firebase setup
firebase.initializeApp({apiKey:"AIzaSyA-p_WgDeRhaGsP0zJYmd9aIw7GwuC6k6g",authDomain:"gotrustpay-e6524.firebaseapp.com",projectId:"gotrustpay-e6524"});
const auth=firebase.auth();const db=firebase.firestore();let currentUser=null;

// Navigation
function show(id){document.querySelectorAll(".panel").forEach(p=>p.classList.add("hidden"));document.getElementById(id).classList.remove("hidden");}

// Register
async function register(){const cred=await auth.createUserWithEmailAndPassword(rEmail.value,rPass.value);const gid="GP"+Math.random().toString(36).substring(2,7).toUpperCase();await db.collection("users").doc(cred.user.uid).set({name:rName.value,email:rEmail.value,role:rRole.value,gid,balance:50,session:null});loginAuto();}

// Login
async function login(){const cred=await auth.signInWithEmailAndPassword(lEmail.value,lPass.value);loadUserData(cred.user.uid);}
async function loginAuto(){loadUserData(auth.currentUser.uid);}

// Load Dashboard
async function loadUserData(uid){const snap=await db.collection("users").doc(uid).get();currentUser=snap.data();if(currentUser.session && currentUser.session!==uid){alert("Session active ailleurs");logout();return;}await db.collection("users").doc(uid).update({session:uid});loadDashboard();}

function loadDashboard(){cardName.innerText=currentUser.name;cardId.innerText=currentUser.gid;balance.innerText=currentUser.balance.toFixed(2);QRCode.toCanvas(qr,currentUser.gid);loadFakeHistory();if(currentUser.role==="admin"){setTimeout(()=>openAdmin(),500);}show("dash");}

// Cash-in/out/pay
async function cashin(){let amt=parseFloat(prompt("Montant"));if(!amt)return;await db.collection("users").doc(auth.currentUser.uid).update({balance:firebase.firestore.FieldValue.increment(amt)});currentUser.balance+=amt;loadDashboard();}
async function cashout(){let amt=parseFloat(prompt("Montant"));if(!amt)return;await db.collection("users").doc(auth.currentUser.uid).update({balance:firebase.firestore.FieldValue.increment(-amt)});currentUser.balance-=amt;saveTransaction("cashout",amt);loadDashboard();}
async function pay(){let amt=parseFloat(prompt("Montant"));let dest=prompt("ID destinataire");let snap=await db.collection("users").where("gid","==",dest).get();if(snap.empty){alert("Utilisateur introuvable");return;}let doc=snap.docs[0];await db.collection("users").doc(auth.currentUser.uid).update({balance:firebase.firestore.FieldValue.increment(-amt)});await db.collection("users").doc(doc.id).update({balance:firebase.firestore.FieldValue.increment(amt)});saveTransaction("payment",amt);currentUser.balance-=amt;loadDashboard();}
function saveTransaction(type,amount){db.collection("transactions").add({user:currentUser.gid,type,amount,date:new Date()});}

// Fake history
function loadFakeHistory(){const names=["Ali","John","Fatou","David","Eric","Nadine","Prince"];history.innerHTML="";for(let i=0;i<6;i++){let n=names[Math.floor(Math.random()*names.length)];let amt=(Math.random()*200).toFixed(2);history.innerHTML+=`<p>${n} a transféré $${amt}</p>`;}}

// Admin
async function openAdmin(){show('admin');let users=await db.collection("users").get();totalClients.innerText=users.docs.filter(u=>u.data().role==='client').length;totalAgents.innerText=users.docs.filter(u=>u.data().role==='agent').length;totalTransactions.innerText=await db.collection('transactions').get().then(s=>s.size);usersTable.innerHTML="<tr><th>Nom</th><th>Email</th><th>Role</th><th>Solde</th></tr>";users.docs.forEach(doc=>{let u=doc.data();usersTable.innerHTML+=`<tr><td>${u.name}</td><td>${u.email}</td><td>${u.role}</td><td>$${u.balance.toFixed(2)}</td></tr>`;});}

// Fake chart
const ctx = document.getElementById('successChart')?.getContext('2d');
if(ctx){new Chart(ctx,{type:'line',data:{labels:['Jan','Fév','Mar','Avr','Mai','Juin','Juil'],datasets:[{label:'Clients actifs',data:[500,800,950,1200,1500,2000,2500],borderColor:'#0072ff',backgroundColor:'rgba(0,114,255,0.2)',fill:true,tension:0.3}]},options:{responsive:true,plugins:{legend:{display:true},title:{display:true,text:'Évolution clients actifs'}}}});}

// Logout
function logout(){auth.signOut();show('home');}
</script>
</body>
</html>
